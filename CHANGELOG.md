# æ›´æ–°æ—¥å¿—

## 2024-11-19 - LOD ç“¦ç‰‡åŠ è½½ç³»ç»Ÿ

### æ–°å¢žåŠŸèƒ½

#### ðŸŒ LOD ç“¦ç‰‡åŠ è½½é¡¹ç›®
åˆ›å»ºäº†å…¨æ–°çš„ LOD ç“¦ç‰‡åŠ è½½ç³»ç»Ÿï¼Œä¸ŽåŽŸæœ‰é¡¹ç›®å®Œå…¨ç‹¬ç«‹ã€‚

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- âœ… é¼ æ ‡ç‚¹å‡»åœ°çƒè¡¨é¢åŠ è½½ç“¦ç‰‡
- âœ… 5 çº§ LOD è‡ªåŠ¨åˆ†å±‚åŠ è½½ï¼ˆLevel 0-4ï¼‰
- âœ… æ—¶é—´è½´æŽ§åˆ¶ï¼ˆé»˜è®¤ 202401ï¼‰
- âœ… æ™ºèƒ½ç“¦ç‰‡ç®¡ç†ï¼ˆ3x3 åŒºåŸŸåŠ è½½ï¼‰
- âœ… å®žæ—¶é…ç½®é¢æ¿
- âœ… åŽç«¯ç«¯å£é…ç½®ä¸º 4433

**æ—¶é—´è½´åŠŸèƒ½ï¼š**
- åº•éƒ¨æ—¶é—´è½´é¢æ¿
- æ”¯æŒ YYYYMM æ ¼å¼è¾“å…¥
- ä¸Šæœˆ/ä¸‹æœˆå¿«é€Ÿåˆ‡æ¢
- åº”ç”¨æŒ‰é’®ç«‹å³ç”Ÿæ•ˆ
- æ—¶é—´æ›´æ”¹è‡ªåŠ¨æ¸…é™¤æ—§ç“¦ç‰‡

**ç•Œé¢ç»„ä»¶ï¼š**
- å·¦ä¾§ï¼šä¿¡æ¯é¢æ¿ï¼ˆçŠ¶æ€ã€è¿›åº¦ã€ç“¦ç‰‡æ•°é‡ï¼‰
- å³ä¾§ï¼šé…ç½®é¢æ¿ï¼ˆåŽç«¯åœ°å€ã€æ·±åº¦ã€çº§åˆ«ï¼‰
- åº•éƒ¨ï¼šæ—¶é—´è½´é¢æ¿ï¼ˆæ—¶é—´é€‰æ‹©å’ŒæŽ§åˆ¶ï¼‰

### æ–‡ä»¶ç»“æž„

```
cesium/
â”œâ”€â”€ lod-tiles/                    # æ–°é¡¹ç›®ç›®å½•
â”‚   â”œâ”€â”€ index.html               # LOD é¡¹ç›® HTML
â”‚   â”œâ”€â”€ index.js                 # LOD é¡¹ç›® JavaScript
â”‚   â””â”€â”€ ä½¿ç”¨è¯´æ˜Ž.md              # è¯¦ç»†ä½¿ç”¨è¯´æ˜Ž
â”œâ”€â”€ backend-example.js           # æµ‹è¯•åŽç«¯æœåŠ¡å™¨
â”œâ”€â”€ backend-package.json         # åŽç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ webpack.lod.config.js        # LOD é¡¹ç›® webpack é…ç½®
â”œâ”€â”€ README.md                    # æ›´æ–°çš„ä¸»æ–‡æ¡£
â””â”€â”€ CHANGELOG.md                 # æœ¬æ–‡ä»¶
```

### æŠ€æœ¯å®žçŽ°

#### åŽç«¯ API å‚æ•°
| å‚æ•° | ç±»åž‹ | é»˜è®¤å€¼ | è¯´æ˜Ž |
|------|------|--------|------|
| ncType | string | "so" | æ•°æ®ç±»åž‹ |
| timeType | int | 0 | æ—¶é—´ç±»åž‹ |
| year | int | 2024 | ä»Žæ—¶é—´è½´èŽ·å– |
| month | int | 1 | ä»Žæ—¶é—´è½´èŽ·å– |
| day | int | 1 | å›ºå®šå€¼ |
| hour | int | 0 | å›ºå®šå€¼ |
| depth | double | 0 | å¯é…ç½® |
| level | int | 0 | è‡ªåŠ¨æˆ–æ‰‹åŠ¨ |
| tileX | int | - | è‡ªåŠ¨è®¡ç®— |
| tileY | int | - | è‡ªåŠ¨è®¡ç®— |

#### LOD çº§åˆ«é…ç½®
| Level | ç›¸æœºé«˜åº¦ | ç“¦ç‰‡å¤§å° |
|-------|---------|---------|
| 0 | > 1,000,000m | 45Â° |
| 1 | 500,000-1,000,000m | 22.5Â° |
| 2 | 100,000-500,000m | 11.25Â° |
| 3 | 50,000-100,000m | 5.625Â° |
| 4 | < 50,000m | 2.8125Â° |

### å¯åŠ¨å‘½ä»¤

#### å‰ç«¯é¡¹ç›®
```bash
# åŽŸé¡¹ç›®ï¼ˆç«¯å£ 3000ï¼‰
npm start

# LOD é¡¹ç›®ï¼ˆç«¯å£ 3001ï¼‰
npm run start:lod
```

#### æµ‹è¯•åŽç«¯
```bash
# å®‰è£…ä¾èµ–
npm install express cors canvas

# å¯åŠ¨æœåŠ¡å™¨ï¼ˆç«¯å£ 4433ï¼‰
node backend-example.js
```

### é…ç½®æ›´æ–°

#### package.json
æ–°å¢žè„šæœ¬ï¼š
- `start:lod` - å¯åŠ¨ LOD é¡¹ç›®å¼€å‘æœåŠ¡å™¨
- `build:lod` - æž„å»º LOD é¡¹ç›®ç”Ÿäº§ç‰ˆæœ¬

#### webpack.lod.config.js
- å…¥å£ï¼š`lod-tiles/index.js`
- è¾“å‡ºï¼š`dist-lod/`
- ç«¯å£ï¼š3001

### æµ‹è¯•åŽç«¯æœåŠ¡å™¨

æä¾›äº†å®Œæ•´çš„æµ‹è¯•åŽç«¯ `backend-example.js`ï¼š
- è‡ªåŠ¨ç”Ÿæˆå½©è‰²æµ‹è¯•ç“¦ç‰‡
- æ˜¾ç¤ºæ—¶é—´ã€çº§åˆ«ã€åæ ‡ä¿¡æ¯
- æ”¯æŒ CORS
- å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š`/health`

### æ–‡æ¡£æ›´æ–°

1. **README.md** - ä¸»æ–‡æ¡£
   - é¡¹ç›®ç»“æž„è¯´æ˜Ž
   - åŠŸèƒ½ä»‹ç»
   - å¯åŠ¨å‘½ä»¤
   - åŽç«¯ API è¯´æ˜Ž
   - æµ‹è¯•åŽç«¯ä½¿ç”¨æŒ‡å—

2. **lod-tiles/ä½¿ç”¨è¯´æ˜Ž.md** - è¯¦ç»†ä½¿ç”¨æŒ‡å—
   - å¿«é€Ÿå¼€å§‹
   - ç•Œé¢è¯´æ˜Ž
   - æ“ä½œæµç¨‹
   - é«˜çº§æ“ä½œ
   - å¸¸è§é—®é¢˜

3. **CHANGELOG.md** - æœ¬æ–‡ä»¶
   - æ›´æ–°æ—¥å¿—
   - åŠŸèƒ½åˆ—è¡¨
   - æŠ€æœ¯ç»†èŠ‚

### å…¼å®¹æ€§

- âœ… ä¸ŽåŽŸé¡¹ç›®å®Œå…¨ç‹¬ç«‹
- âœ… ä¸åŒç«¯å£ï¼Œäº’ä¸å†²çª
- âœ… å…±äº«ä¾èµ–ï¼Œæ— éœ€é‡å¤å®‰è£…
- âœ… å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªé¡¹ç›®

### ä¸‹ä¸€æ­¥è®¡åˆ’

- [ ] æ·»åŠ ç“¦ç‰‡ç¼“å­˜æœºåˆ¶
- [ ] æ”¯æŒæ›´å¤šæ—¶é—´æ ¼å¼
- [ ] æ·»åŠ ç“¦ç‰‡é¢„åŠ è½½
- [ ] ä¼˜åŒ–å†…å­˜ç®¡ç†
- [ ] æ·»åŠ ç“¦ç‰‡åŠ¨ç”»æ•ˆæžœ

---

## åŽŸé¡¹ç›®

### åŠŸèƒ½
- GLB æ¨¡åž‹åŠ è½½
- åœ°çƒè¡¨é¢æ¨¡åž‹æ”¾ç½®

### ç«¯å£
- 3000

### å¯åŠ¨å‘½ä»¤
```bash
npm start
```

---

**ç‰ˆæœ¬**: 1.0.0  
**æ—¥æœŸ**: 2024-11-19  
**ä½œè€…**: Cascade AI
