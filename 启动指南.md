# ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ç¬¬ä¸€æ¬¡ä½¿ç”¨

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. é€‰æ‹©è¦å¯åŠ¨çš„é¡¹ç›®

#### é€‰é¡¹ Aï¼šå¯åŠ¨ LOD ç“¦ç‰‡åŠ è½½ç³»ç»Ÿï¼ˆæ¨èï¼‰

**æ­¥éª¤ 1ï¼šå¯åŠ¨æµ‹è¯•åç«¯**
```bash
# å¦‚æœè¿˜æ²¡å®‰è£…åç«¯ä¾èµ–
npm install express cors canvas

# å¯åŠ¨åç«¯ï¼ˆç«¯å£ 4433ï¼‰
node backend-example.js
```

**æ­¥éª¤ 2ï¼šå¯åŠ¨å‰ç«¯**
æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼š
```bash
npm run start:lod
```

**æ­¥éª¤ 3ï¼šè®¿é—®åº”ç”¨**
æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ `http://localhost:3001`

**æ­¥éª¤ 4ï¼šå¼€å§‹ä½¿ç”¨**
1. åœ¨åº•éƒ¨æ—¶é—´è½´è®¾ç½®æ—¶é—´ï¼ˆé»˜è®¤ 202401ï¼‰
2. ç‚¹å‡»åœ°çƒè¡¨é¢ä»»æ„ä½ç½®
3. æŸ¥çœ‹ç“¦ç‰‡åŠ è½½æ•ˆæœ

---

#### é€‰é¡¹ Bï¼šå¯åŠ¨åŸ GLB æ¨¡å‹é¡¹ç›®

```bash
npm start
```

è®¿é—® `http://localhost:3000`

---

## å®Œæ•´æµ‹è¯•ç¯å¢ƒ

åŒæ—¶è¿è¡Œæ‰€æœ‰æœåŠ¡ï¼š

### ç»ˆç«¯ 1ï¼šåç«¯æœåŠ¡å™¨
```bash
node backend-example.js
```
âœ“ è¿è¡Œåœ¨ http://localhost:4433

### ç»ˆç«¯ 2ï¼šLOD ç“¦ç‰‡é¡¹ç›®
```bash
npm run start:lod
```
âœ“ è¿è¡Œåœ¨ http://localhost:3001

### ç»ˆç«¯ 3ï¼šåŸ GLB é¡¹ç›®ï¼ˆå¯é€‰ï¼‰
```bash
npm start
```
âœ“ è¿è¡Œåœ¨ http://localhost:3000

---

## éªŒè¯å®‰è£…

### æ£€æŸ¥åç«¯
è®¿é—®ï¼šhttp://localhost:4433/health

åº”è¯¥çœ‹åˆ°ï¼š
```json
{
  "status": "ok",
  "timestamp": "2024-11-19T...",
  "service": "LOD Tile Server"
}
```

### æ£€æŸ¥å‰ç«¯
è®¿é—®ï¼šhttp://localhost:3001

åº”è¯¥çœ‹åˆ°ï¼š
- åœ°çƒè§†å›¾
- å·¦ä¾§ä¿¡æ¯é¢æ¿
- å³ä¾§é…ç½®é¢æ¿
- åº•éƒ¨æ—¶é—´è½´

---

## å¸¸è§é—®é¢˜

### Q: ç«¯å£è¢«å ç”¨
**é”™è¯¯**: `Error: listen EADDRINUSE: address already in use`

**è§£å†³æ–¹æ¡ˆ**:
1. å…³é—­å ç”¨ç«¯å£çš„ç¨‹åº
2. æˆ–ä¿®æ”¹ç«¯å£é…ç½®ï¼š
   - åç«¯ï¼šç¼–è¾‘ `backend-example.js` ä¸­çš„ `PORT`
   - LOD å‰ç«¯ï¼šç¼–è¾‘ `webpack.lod.config.js` ä¸­çš„ `port`
   - åŸé¡¹ç›®ï¼šç¼–è¾‘ `webpack.config.js` ä¸­çš„ `port`

### Q: ä¾èµ–å®‰è£…å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…é™¤ç¼“å­˜
npm cache clean --force

# åˆ é™¤ node_modules
rm -rf node_modules

# é‡æ–°å®‰è£…
npm install
```

### Q: åç«¯ä¾èµ–å®‰è£…å¤±è´¥ï¼ˆcanvasï¼‰
**Windows ç”¨æˆ·**:
```bash
# ä½¿ç”¨ npm å®‰è£…æ„å»ºå·¥å…·
npm install --global windows-build-tools

# æˆ–è€…è·³è¿‡ canvasï¼Œä½¿ç”¨ç®€åŒ–ç‰ˆåç«¯
```

**Linux/Mac ç”¨æˆ·**:
```bash
# Ubuntu/Debian
sudo apt-get install build-essential libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev

# macOS
brew install pkg-config cairo pango libpng jpeg giflib librsvg
```

### Q: ç‚¹å‡»åœ°çƒæ²¡ååº”
**æ£€æŸ¥æ¸…å•**:
1. âœ“ åç«¯æ˜¯å¦å¯åŠ¨ï¼Ÿè®¿é—® http://localhost:4433/health
2. âœ“ æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ï¼ŸæŒ‰ F12 æŸ¥çœ‹
3. âœ“ ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸï¼ŸæŸ¥çœ‹ Network æ ‡ç­¾
4. âœ“ åç«¯åœ°å€æ˜¯å¦æ­£ç¡®ï¼Ÿæ£€æŸ¥å³ä¾§é…ç½®é¢æ¿

---

## å¼€å‘æ¨¡å¼

### çƒ­é‡è½½
ä¸¤ä¸ªå‰ç«¯é¡¹ç›®éƒ½æ”¯æŒçƒ­é‡è½½ï¼Œä¿®æ”¹ä»£ç åä¼šè‡ªåŠ¨åˆ·æ–°ã€‚

### è°ƒè¯•
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹ Console æ ‡ç­¾çš„æ—¥å¿—
3. æŸ¥çœ‹ Network æ ‡ç­¾çš„è¯·æ±‚

### ä¿®æ”¹é…ç½®
- **LOD çº§åˆ«**: ç¼–è¾‘ `lod-tiles/index.js` ä¸­çš„ `LOD_LEVELS`
- **åŠ è½½èŒƒå›´**: ç¼–è¾‘ `lod-tiles/index.js` ä¸­çš„ `range`
- **åç«¯åœ°å€**: åœ¨ç•Œé¢å³ä¾§é…ç½®é¢æ¿ä¿®æ”¹

---

## ç”Ÿäº§æ„å»º

### LOD é¡¹ç›®
```bash
npm run build:lod
```
è¾“å‡ºç›®å½•ï¼š`dist-lod/`

### åŸé¡¹ç›®
```bash
npm run build
```
è¾“å‡ºç›®å½•ï¼š`dist/`

---

## é¡¹ç›®ç»“æ„é€ŸæŸ¥

```
cesium/
â”œâ”€â”€ src/                      # åŸé¡¹ç›®æºç 
â”œâ”€â”€ lod-tiles/               # LOD é¡¹ç›®æºç 
â”‚   â”œâ”€â”€ index.html          # HTML å…¥å£
â”‚   â”œâ”€â”€ index.js            # JavaScript ä¸»æ–‡ä»¶
â”‚   â””â”€â”€ ä½¿ç”¨è¯´æ˜.md         # è¯¦ç»†æ–‡æ¡£
â”œâ”€â”€ backend-example.js       # æµ‹è¯•åç«¯
â”œâ”€â”€ webpack.config.js        # åŸé¡¹ç›®é…ç½®
â”œâ”€â”€ webpack.lod.config.js    # LOD é¡¹ç›®é…ç½®
â”œâ”€â”€ package.json             # ä¾èµ–é…ç½®
â”œâ”€â”€ README.md                # ä¸»æ–‡æ¡£
â”œâ”€â”€ CHANGELOG.md             # æ›´æ–°æ—¥å¿—
â””â”€â”€ å¯åŠ¨æŒ‡å—.md              # æœ¬æ–‡ä»¶
```

---

## å¿«é€Ÿå‘½ä»¤å‚è€ƒ

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm install` | å®‰è£…ä¾èµ– |
| `npm start` | å¯åŠ¨åŸé¡¹ç›® |
| `npm run start:lod` | å¯åŠ¨ LOD é¡¹ç›® |
| `npm run build` | æ„å»ºåŸé¡¹ç›® |
| `npm run build:lod` | æ„å»º LOD é¡¹ç›® |
| `node backend-example.js` | å¯åŠ¨æµ‹è¯•åç«¯ |

---

## è·å–å¸®åŠ©

1. æŸ¥çœ‹ `README.md` - å®Œæ•´æ–‡æ¡£
2. æŸ¥çœ‹ `lod-tiles/ä½¿ç”¨è¯´æ˜.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—
3. æŸ¥çœ‹ `CHANGELOG.md` - æ›´æ–°æ—¥å¿—
4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
5. æ£€æŸ¥åç«¯æ—¥å¿—è¾“å‡º

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
